<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pricelist Call Of Duty Mobile – Indonesia</title>
  <style>
    body {
      font-family: Roboto, sans-serif;
      background: #C9DBF0;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #ffffff;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }
    h1 {
      text-align: center;
      margin-bottom: 8px;
      font-size: 18px;
    }
    .subtitle {
      text-align: center;
      margin-bottom: 24px;
      color: #555;
      font-size: 10px;
    }
    .section-title {
      font-size: 12px;
      margin: 20px 0 10px;
      border-bottom: 2px solid #eee;
      padding-bottom: 6px;
    }
    ul.pricelist {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    ul.pricelist li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 10px;
      border-radius: 10px;
      background: #fafafa;
      margin-bottom: 6px;
      border: 1px solid #eee;
      font-size: 12px;
      cursor: pointer;
      transition: background 0.15s, transform 0.05s;
    }
    ul.pricelist li:nth-child(odd) {
      background: #fefefe;
    }
    ul.pricelist li:hover {
      background: #e9f3ff;
      transform: translateY(-1px);
    }
    .item-name {
      font-weight: 500;
    }
    .item-code {
      display: none;
    }
    .item-price {
      font-weight: 600;
      color: #007bff;
      white-space: nowrap;
    }

    /* FORM ORDER */
    form {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 8px;
    }
    form label {
      font-size: 12px;
      margin-top: 4px;
    }
    form input,
    form select {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #dddddd;
      font-size: 12px;
    }
    form button[type="submit"] {
      margin-top: 10px;
      padding: 10px 14px;
      border: none;
      border-radius: 999px;
      font-weight: 600;
      cursor: pointer;
      background: #4E5E7D;
      color: #ffffff;
      font-size: 13px;
    }

    .qty-wrapper {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .qty-btn {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      border: 1px solid #cccccc;
      background: #f5f5f5;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .qty-btn:active {
      background: #e0e0e0;
    }
    #orderQty {
      width: 56px;
      text-align: center;
    }

    @media (max-width:480px){
      .container{ padding:16px; }
      ul.pricelist li{ font-size:11px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Call Of Duty Mobile – Indonesia</h1>
    <div class="subtitle">Garena</div>

    <!-- CP List -->
    <div class="section">
      <div class="section-title">CP Packages</div>
      <ul class="pricelist">
        <li data-item="31 CP" data-price="5800" data-code="CODM_ID_31" role="button" tabindex="0">
          <span class="item-name">31 CP <span class="item-code">CODM_ID_31</span></span>
          <span class="item-price">Rp 5.800</span>
        </li>
        <li data-item="63 CP" data-price="10100" data-code="CODM_ID_63" role="button" tabindex="0">
          <span class="item-name">63 CP <span class="item-code">CODM_ID_63</span></span>
          <span class="item-price">Rp 10.100</span>
        </li>
        <li data-item="128 CP" data-price="18700" data-code="CODM_ID_128" role="button" tabindex="0">
          <span class="item-name">128 CP <span class="item-code">CODM_ID_128</span></span>
          <span class="item-price">Rp 18.700</span>
        </li>
        <li data-item="321 CP" data-price="44200" data-code="CODM_ID_321" role="button" tabindex="0">
          <span class="item-name">321 CP <span class="item-code">CODM_ID_321</span></span>
          <span class="item-price">Rp 44.200</span>
        </li>
        <li data-item="645 CP" data-price="88400" data-code="CODM_ID_645" role="button" tabindex="0">
          <span class="item-name">645 CP <span class="item-code">CODM_ID_645</span></span>
          <span class="item-price">Rp 88.400</span>
        </li>
        <li data-item="800 CP" data-price="106100" data-code="CODM_ID_800" role="button" tabindex="0">
          <span class="item-name">800 CP <span class="item-code">CODM_ID_800</span></span>
          <span class="item-price">Rp 106.100</span>
        </li>
        <li data-item="1373 CP" data-price="176900" data-code="CODM_ID_1373" role="button" tabindex="0">
          <span class="item-name">1373 CP <span class="item-code">CODM_ID_1373</span></span>
          <span class="item-price">Rp 176.900</span>
        </li>
        <li data-item="2060 CP" data-price="265300" data-code="CODM_ID_2060" role="button" tabindex="0">
          <span class="item-name">2060 CP <span class="item-code">CODM_ID_2060</span></span>
          <span class="item-price">Rp 265.300</span>
        </li>
        <li data-item="2750 CP" data-price="336000" data-code="CODM_ID_2750" role="button" tabindex="0">
          <span class="item-name">2750 CP <span class="item-code">CODM_ID_2750</span></span>
          <span class="item-price">Rp 336.000</span>
        </li>
        <li data-item="3564 CP" data-price="442200" data-code="CODM_ID_3564" role="button" tabindex="0">
          <span class="item-name">3564 CP <span class="item-code">CODM_ID_3564</span></span>
          <span class="item-price">Rp 442.200</span>
        </li>
        <li data-item="5618 CP" data-price="645600" data-code="CODM_ID_5618" role="button" tabindex="0">
          <span class="item-name">5618 CP <span class="item-code">CODM_ID_5618</span></span>
          <span class="item-price">Rp 645.600</span>
        </li>
        <li data-item="7656 CP" data-price="884300" data-code="CODM_ID_7656" role="button" tabindex="0">
          <span class="item-name">7656 CP <span class="item-code">CODM_ID_7656</span></span>
          <span class="item-price">Rp 884.300</span>
        </li>
        <li data-item="15312 CP" data-price="1768700" data-code="CODM_ID_15312" role="button" tabindex="0">
          <span class="item-name">15312 CP <span class="item-code">CODM_ID_15312</span></span>
          <span class="item-price">Rp 1.768.700</span>
        </li>
        <li data-item="38280 CP" data-price="4421600" data-code="CODM_ID_38280" role="button" tabindex="0">
          <span class="item-name">38280 CP <span class="item-code">CODM_ID_38280</span></span>
          <span class="item-price">Rp 4.421.600</span>
        </li>
        <li data-item="76560 CP" data-price="8843300" data-code="CODM_ID_76560" role="button" tabindex="0">
          <span class="item-name">76560 CP <span class="item-code">CODM_ID_76560</span></span>
          <span class="item-price">Rp 8.843.300</span>
        </li>
      </ul>
    </div>

    <!-- FORM ORDER -->
    <div class="section">
      <div class="section-title">Form Order</div>

      <form id="orderForm" onsubmit="sendToWhatsApp(event)">
        <label for="userId">Open ID:</label>
        <input
          type="text"
          id="userId"
          placeholder="OPEN ID bukan UID! (contoh: 12345678987654321)"
          required
        />

        <label for="nickname">Nickname in game:</label>
        <input
          type="text"
          id="nickname"
          placeholder="nickname kamu"
          required
        />

        <label for="orderSelect">Order:</label>
        <select id="orderSelect" required>
          <option value="" disabled selected>Pilih produk</option>

          <option value="31 CP" data-price="5800" data-code="CODM_ID_31">31 CP</option>
          <option value="63 CP" data-price="10100" data-code="CODM_ID_63">63 CP</option>
          <option value="128 CP" data-price="18700" data-code="CODM_ID_128">128 CP</option>
          <option value="321 CP" data-price="44200" data-code="CODM_ID_321">321 CP</option>
          <option value="645 CP" data-price="88400" data-code="CODM_ID_645">645 CP</option>
          <option value="800 CP" data-price="106100" data-code="CODM_ID_800">800 CP</option>
          <option value="1373 CP" data-price="176900" data-code="CODM_ID_1373">1373 CP</option>
          <option value="2060 CP" data-price="265300" data-code="CODM_ID_2060">2060 CP</option>
          <option value="2750 CP" data-price="336000" data-code="CODM_ID_2750">2750 CP</option>
          <option value="3564 CP" data-price="442200" data-code="CODM_ID_3564">3564 CP</option>
          <option value="5618 CP" data-price="645600" data-code="CODM_ID_5618">5618 CP</option>
          <option value="7656 CP" data-price="884300" data-code="CODM_ID_7656">7656 CP</option>
          <option value="15312 CP" data-price="1768700" data-code="CODM_ID_15312">15312 CP</option>
          <option value="38280 CP" data-price="4421600" data-code="CODM_ID_38280">38280 CP</option>
          <option value="76560 CP" data-price="8843300" data-code="CODM_ID_76560">76560 CP</option>
        </select>

        <label>Jumlah order:</label>
        <div class="qty-wrapper">
          <button type="button" class="qty-btn" onclick="changeQty(-1)">−</button>
          <input type="number" id="orderQty" value="1" min="1" readonly />
          <button type="button" class="qty-btn" onclick="changeQty(1)">+</button>
        </div>

        <label for="orderPrice">Total Harga:</label>
        <input
          type="text"
          id="orderPrice"
          placeholder="Rp 0"
          readonly
        />

        <button type="submit">Kirim ke WhatsApp</button>
      </form>
    </div>
  </div>

  <script>
    // Format Rp pakai titik
    function formatRupiah(value) {
      var numberString = String(value).replace(/[^0-9]/g, '');
      if (!numberString) return '';
      return 'Rp ' + numberString.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    }

    function updateTotal() {
      var select = document.getElementById('orderSelect');
      var qtyInput = document.getElementById('orderQty');
      var priceInput = document.getElementById('orderPrice');
      if (!select || !qtyInput || !priceInput) return;

      var option = select.options[select.selectedIndex];
      if (!option || !option.getAttribute) {
        priceInput.value = '';
        return;
      }
      var basePrice = option.getAttribute('data-price');
      var qty = parseInt(qtyInput.value, 10) || 1;

      if (!basePrice) {
        priceInput.value = '';
        return;
      }
      var total = parseInt(basePrice, 10) * qty;
      priceInput.value = formatRupiah(total);
    }

    function changeQty(delta) {
      var qtyInput = document.getElementById('orderQty');
      if (!qtyInput) return;
      var current = parseInt(qtyInput.value, 10) || 1;
      current += delta;
      if (current < 1) current = 1;
      qtyInput.value = current;
      updateTotal();
    }

    // Klik pricebox → auto pilih di dropdown + qty = 1
    function selectProduct(item) {
      var select = document.getElementById('orderSelect');
      var qtyInput = document.getElementById('orderQty');
      if (select) {
        for (var i = 0; i < select.options.length; i++) {
          if (select.options[i].value === item) {
            select.selectedIndex = i;
            break;
          }
        }
      }
      if (qtyInput) qtyInput.value = 1;
      updateTotal();
    }

    // Kirim form ke WhatsApp
    function sendToWhatsApp(e) {
      e.preventDefault();
      var userId = document.getElementById('userId').value.trim();
      var nickname = document.getElementById('nickname').value.trim();
      var select = document.getElementById('orderSelect');
      var qty = document.getElementById('orderQty').value.trim();
      var price = document.getElementById('orderPrice').value.trim();

      if (!select || !select.value) {
        alert('Pilih produk terlebih dahulu.');
        return;
      }

      var option = select.options[select.selectedIndex];
      var code = option ? (option.getAttribute('data-code') || '') : '';

      var orderText = '';
      if (select && select.value) {
        orderText = select.value + (code ? ' (' + code + ')' : '');
      }

      var message =
        '**Order CP Call Of Duty Mobile - Indonesia**\n' +
        'Open ID: ' + userId + '\n' +
        'Nickname in game: ' + nickname + '\n' +
        'Order: ' + orderText + '\n' +
        'Jumlah: x' + qty + '\n' +
        'Total Harga: ' + price;

      var phone = '6283197962700';
      var url = 'https://wa.me/' + phone + '?text=' + encodeURIComponent(message);
      window.open(url, '_blank');
    }

    // Inisialisasi: isi harga di list + klik pricebox
    document.addEventListener('DOMContentLoaded', function () {
      var items = document.querySelectorAll('.pricelist li');
      for (var i = 0; i < items.length; i++) {
        (function (li) {
          var item = li.getAttribute('data-item');
          var price = li.getAttribute('data-price');
          var priceSpan = li.querySelector('.item-price');

          if (priceSpan && price) {
            priceSpan.textContent = formatRupiah(price);
          }

          li.addEventListener('click', function () {
            selectProduct(item);
            var form = document.getElementById('orderForm');
            if (form) {
              form.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
          });

          // keyboard accessibility (Enter/Space)
          li.addEventListener('keydown', function(e){
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              li.click();
            }
          });
        })(items[i]);
      }

      var select = document.getElementById('orderSelect');
      if (select) {
        select.addEventListener('change', updateTotal);
      }
    });
  </script>
</body>
</html>
